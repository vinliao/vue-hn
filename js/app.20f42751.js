(function(t){function e(e){for(var a,s,i=e[0],c=e[1],u=e[2],l=0,_=[];l<i.length;l++)s=i[l],r[s]&&_.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(_.length)_.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-hn/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var p=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("15f5");var a=n("2b0e"),r=n("8c4f"),o=n("28dd"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{light:""}},[n("v-container",[n("v-content",[n("app-header",{attrs:{current_page_to_1:t.current_page_to_1}}),n("router-view")],1)],1)],1)},i=[],c=n("cebc"),u=n("2f62"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"pa-1",attrs:{flat:""}},[n("v-icon",{attrs:{color:"#ff4000"},on:{click:t.comment_to_home}},[t._v("fab fa-y-combinator")]),n("span",[t._v(" ")]),n("a",{on:{click:t.comment_to_home}},[n("span",{staticClass:"font-weight-bold"},[t._v("Hacker News")])])],1)],1)],1)],1)},l=[],_={props:["current_page_to_1"],methods:{comment_to_home:function(){this.current_page_to_1(),this.$router.push("/")}}},d=_,f=(n("58aa"),n("2877")),m=n("6544"),v=n.n(m),g=n("b0af"),h=n("0e8f"),b=n("132d"),y=n("a722"),x=Object(f["a"])(d,p,l,!1,null,"494c71ee",null),j=x.exports;v()(x,{VCard:g["a"],VFlex:h["a"],VIcon:b["a"],VLayout:y["a"]});var C={name:"App",data:function(){return{}},components:{appHeader:j},methods:Object(c["a"])({},Object(u["b"])(["get_page"]),Object(u["d"])(["current_page_to_1"])),created:function(){this.get_page()}},w=C,O=n("7496"),V=n("a523"),k=n("549c"),$=Object(f["a"])(w,s,i,!1,null,null,null),P=$.exports;v()($,{VApp:O["a"],VContainer:V["a"],VContent:k["a"]});var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.posts,function(t){return n("app-post-card",{key:t.id,attrs:{title:t.title,id:t.id,comments_count:t.comments_count,points:t.points,user:t.user,domain:t.domain,time_ago:t.time_ago,url:t.url}})}),n("app-footer",{attrs:{next_page:t.next_page,prev_page:t.prev_page}})],2)},F=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"py-2 px-2",attrs:{flat:""}},[n("div",[n("a",{on:{click:t.to_comment}},[n("span",{staticClass:"font-weight-medium pr-2 subheading"},[t._v("\n              "+t._s(t.title)+" \n            ")])]),t.domain?n("a",{attrs:{href:t.url}},[n("span",{staticClass:"grey--text caption text--lighten-1"},[t._v("\n              ("+t._s(t.domain)+")\n            ")])]):t._e()]),n("div",[n("span",{staticClass:"grey--text caption"},[t._v("submitted "+t._s(t.time_ago)+" ")]),n("span",{staticClass:"grey--text caption"},[t._v("by "+t._s(t.user)+" ")])]),n("div",[n("span",{staticClass:"grey--text caption pr-1 font-weight-bold"},[t._v(t._s(t.points)+" points ")]),n("a",{on:{click:t.to_comment}},[n("span",{staticClass:"grey--text caption font-weight-bold"},[t._v("\n              "+t._s(t.comments_count)+" comments\n            ")])])])])],1)],1)],1)},L=[],M={props:["id","comments_count","points","user","title","domain","time_ago","url"],methods:{to_comment:function(){this.$router.push("/comments/"+this.id)}}},D=M,T=(n("b7c1"),Object(f["a"])(D,S,L,!1,null,"24d2627e",null)),A=T.exports;v()(T,{VCard:g["a"],VFlex:h["a"],VLayout:y["a"]});var B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"pa-2",attrs:{flat:""}},[n("a",[n("span",{on:{click:function(e){return t.prev_page()}}},[t._v("\n            Prev\n          ")])]),n("span",[t._v(" ")]),n("a",[n("span",{on:{click:function(e){return t.next_page()}}},[t._v("\n            Next \n          ")])])])],1)],1)],1)},H=[],J={props:["next_page","prev_page"]},N=J,q=(n("fc6a"),Object(f["a"])(N,B,H,!1,null,"2686947b",null)),I=q.exports;v()(q,{VCard:g["a"],VFlex:h["a"],VLayout:y["a"]});var z={components:{appPostCard:A,appFooter:I},methods:Object(c["a"])({},Object(u["c"])(["get_index","get_current_page","get_status"]),Object(u["d"])(["increment_page_index","decrement_page_index"]),Object(u["b"])(["get_page"]),{next_page:function(){this.increment_page_index(),this.get_page()},prev_page:function(){this.decrement_page_index()}}),computed:{posts:function(){if(!0===this.get_status())return this.get_current_page()}}},G=z,K=Object(f["a"])(G,E,F,!1,null,null,null),Q=K.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("app-post-detail-card",{key:this.id,attrs:{content:this.content,user:this.user,title:this.title,time_ago:this.time_ago}}),t._l(this.comments,function(t){return n("app-comment-card",{key:t.id,attrs:{author:t.user,content:t.content,time_ago:t.time_ago,level:t.level}})})],2)},U=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"px-3 py-3",style:this.card_style,attrs:{flat:""}},[n("div",{staticClass:"caption grey--text"},[n("span",[t._v("\n            "+t._s(t.author)+"\n          ")]),n("span",[t._v("\n            "+t._s(t.time_ago)+"\n          ")])]),n("div",[t._v("\n          "+t._s(t.content)+"\n        ")])])],1)],1)],1)},X=[],Y={props:["author","content","time_ago","level"],data:function(){return{level_color:["red","blue","orange","green","purple","lime","navy","aqua","fuchsia","gray","olive","silver"]}},computed:{card_style:function(){return{marginLeft:15*this.level+"px",borderLeft:"4px solid "+this.level_color[this.level],borderBottom:"1px solid #eee"}}}},Z=Y,tt=Object(f["a"])(Z,W,X,!1,null,"4d47f0ef",null),et=tt.exports;v()(tt,{VCard:g["a"],VFlex:h["a"],VLayout:y["a"]});var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{staticClass:"pa-3",style:{borderBottom:"1px solid #eee"},attrs:{flat:""}},[n("div",{staticClass:"title pb-1 grey--text text--lighten-1"},[t._v("\n          "+t._s(t.title)+"\n        ")]),n("div",{staticClass:"caption grey--text pb-2"},[n("span",[t._v("\n            Posted by "+t._s(t.user)+" \n          ")]),n("span",[t._v("\n            "+t._s(t.time_ago)+"\n          ")])]),t.content?n("div",[t._v("\n          "+t._s(t.content)+"\n        ")]):t._e()])],1)],1)],1)},at=[],rt={props:["user","content","time_ago","title"]},ot=rt,st=Object(f["a"])(ot,nt,at,!1,null,null,null),it=st.exports;v()(st,{VCard:g["a"],VFlex:h["a"],VLayout:y["a"]});var ct={data:function(){return{id:this.$route.params.id,title:null,comments:null,time_ago:null,user:null,content:null}},components:{appCommentCard:et,appPostDetailCard:it},created:function(){var t=this;this.$http.get("https://api.hnpwa.com/v0/item/"+this.id+".json").then(function(e){if(t.title=e.body.title,e.body.content){var n=new DOMParser,a=n.parseFromString("<!doctype html><body>"+e.body.content,"text/html");t.content=a.body.textContent}t.time_ago=e.body.time_ago,t.user=e.body.user,t.set_comments(e.body.comments,e.body.comments_count)})},methods:{set_comments:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.length===e&&(console.log(n),this.comments=n);for(var a=0;a<t.length;a++){var r=t[a];if(!r.visited){r.visited=!0;var o=new DOMParser,s=o.parseFromString("<!doctype html><body>"+r.content,"text/html");r.content=s.body.textContent,n.push(r),this.set_comments(r.comments,e,n)}}}}},ut=ct,pt=Object(f["a"])(ut,R,U,!1,null,null,null),lt=pt.exports,_t=[{path:"/",component:Q},{path:"/comments/:id",component:lt}];n("6762"),n("2fdb");a["a"].use(u["a"]);var dt=new u["a"].Store({state:{current_page:1,post_ready:!1,visited_page:[],posts:[]},getters:{get_current_page:function(t){var e=t.current_page-1;return console.log(t.posts),t.posts[e]},get_status:function(t){return t.post_ready},get_index:function(t){return t.current_page},get_visited_page:function(t){return t.visited_page}},mutations:{push_page:function(t,e){t.post_ready=!0,t.posts.push(e)},increment_page_index:function(t){t.current_page++},decrement_page_index:function(t){t.current_page--},push_visited_page:function(t,e){t.visited_page.push(e)},current_page_to_1:function(t){t.current_page=1}},actions:{get_page:function(t){var e=t.getters.get_index;if(t.getters.get_visited_page.includes(e))console.log("this is already visited!!!");else{t.commit("push_visited_page",e);var n="https://api.hnpwa.com/v0/news/";n+=e+".json",a["a"].http.get(n).then(function(e){t.commit("push_page",e.body)})}}}}),ft=n("bb71");n("da64");a["a"].use(ft["a"],{iconfont:"fa"}),a["a"].config.productionTip=!1,a["a"].use(o["a"]),a["a"].use(r["a"]);var mt=new r["a"]({routes:_t,mode:"history",base:"/vue-hn/"});new a["a"]({render:function(t){return t(P)},router:mt,store:dt}).$mount("#app")},"58aa":function(t,e,n){"use strict";var a=n("d947"),r=n.n(a);r.a},b14d:function(t,e,n){},b7c1:function(t,e,n){"use strict";var a=n("e46b"),r=n.n(a);r.a},d947:function(t,e,n){},e46b:function(t,e,n){},fc6a:function(t,e,n){"use strict";var a=n("b14d"),r=n.n(a);r.a}});
//# sourceMappingURL=app.20f42751.js.map